!function(e){function n(t){if(a[t])return a[t].exports;var i=a[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var a={};return n.m=e,n.c=a,n.p="",n(0)}([function(e,n,a){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(1),r=t(i),s=a(2),g=t(s),o=a(3),u=t(o),l=a(5),c=t(l),d=a(6),h=t(d);n["default"]=r["default"].module("ngQuickGrid",[]).directive("quickGrid",g["default"]).directive("quickPaging",u["default"]).directive("quickSort",c["default"]).factory("SearchModel",h["default"])},function(e,n){e.exports=angular},function(e,n){"use strict";function a(){return{restrict:"A",scope:!0,controllerAs:"grid",bindToController:!0,controller:["$scope","$element","$attrs",function(e,n,a){this.searchModel=e.$eval(a.gridModel)}]}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=a},function(e,n,a){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function i(){return{restrict:"A",require:["^quickGrid","quickPaging"],controller:["$scope",function(e){var n=this;this.maxItems=this.maxItems||10,this.startRange=[],this.endRange=[],this.midRange=[],this.drawStartRange=[],this.drawMidRange=[],this.drawEndRange=[];var a=e.$watch(function(){return n.searchModel},function(t,i){a(),a=null;var r;r=e.$watch(function(){return n.searchModel.pageCount.length},function(e,a){if(e!==a&&e>n.maxItems){n.startRange=[],n.endRange=[];var t,i=Math.floor((n.maxItems-3)/2);for(t=1;t<=i;t++)n.startRange.push(t);var r=e;if(n.maxItems%2===0){var s=e/2;s%1==0?n.midRange=[s-1,s,s+1]:n.midRange=[s-1.5,s-.5,s+.5]}else{var s=e/2;s%1==0?n.midRange=[s-1,s,s+1]:n.midRange=[s-1.5,s-.5,s+.5],r++}for(var t=r-i;t<=e;t++)n.endRange.push(t)}}),e.$watch(function(){return n.searchModel.paging.pageIndex},function(e,a){if(e+=1,n.drawStartRange=n.startRange.slice(0),n.drawEndRange=n.endRange.slice(0),n.drawMidRange=n.midRange.slice(0),!(n.drawStartRange.indexOf(e)>-1||n.drawEndRange.indexOf(e)>-1))if(n.drawStartRange[n.drawStartRange.length-1]!==e-1)if(n.drawEndRange[0]!==e+1)n.drawMidRange.indexOf(e)===-1&&(n.drawMidRange=[e-1,e,e+1]);else{n.drawEndRange.unshift(e),n.drawEndRange.unshift(e-1),n.drawMidRange=[];for(var t=n.drawStartRange[n.drawStartRange.length-1],i=n.maxItems-n.drawStartRange.length-n.drawEndRange.length,r=1;r<=i;r++)n.drawStartRange.push(t+r)}else{n.drawStartRange.push(e),n.drawStartRange.push(e+1),n.drawMidRange=[];for(var t=n.drawEndRange[0],i=n.maxItems-n.drawStartRange.length-n.drawEndRange.length,r=1;r<=i;r++)n.drawEndRange.unshift(t-r)}})})}],scope:{maxItems:"<?quickPaging"},controllerAs:"quickPaging",bindToController:!0,template:s["default"],link:function(e,n,a,t){var i=t[0],r=t[1];r.searchModel=i.searchModel}}}Object.defineProperty(n,"__esModule",{value:!0});var r=a(4),s=t(r);n["default"]=i},function(e,n){e.exports='<nav aria-label="Page navigation" ng-if="quickPaging.searchModel.pageCount.length > 1 && quickPaging.maxItems < quickPaging.searchModel.pageCount.length">\r\n  <ul class="pagination">\r\n  \t<li ng-disabled="quickPaging.searchModel.paging.pageIndex === 0"><a ng-click="quickPaging.searchModel.paging.toPage(quickPaging.searchModel.paging.pageIndex - 1)">&laquo;</a></li>\r\n  \t<li class="startRange" ng-repeat="x in quickPaging.drawStartRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n  \t<li disabled="disabled"><a>...</a></li>\r\n  \t<li class="midRange" ng-repeat="x in quickPaging.drawMidRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n  \t<li disabled="disabled" ng-if="quickPaging.drawMidRange.length > 0"><a>...</a></li>\r\n\t<li class="endRange" ng-repeat="x in quickPaging.drawEndRange track by $index" ng-class="{\'active\': (x-1) === quickPaging.searchModel.paging.pageIndex}"><a ng-click="quickPaging.searchModel.paging.toPage(x-1)">{{x}}</a></li>\r\n\t<li ng-disabled="quickPaging.searchModel.paging.pageIndex === quickPaging.drawEndRange[quickPaging.drawEndRange.length-1]"><a ng-click="quickPaging.searchModel.paging.toPage(quickPaging.searchModel.paging.pageIndex + 1)">&raquo;</a></li>\r\n  </ul>\r\n</nav>\r\n\r\n<div class="btn-group" ng-if="quickPaging.searchModel.pageCount.length > 1 && quickPaging.maxItems >= quickPaging.searchModel.pageCount.length">\r\n  <button ng-repeat="x in quickPaging.searchModel.pageCount track by $index" ng-click="quickPaging.searchModel.paging.toPage($index)" ng-disabled="$index === quickPaging.searchModel.paging.pageIndex" class="btn btn-primary btn-sm">{{$index + 1}}</button>\r\n</div>\r\n'},function(e,n){"use strict";function a(e){return{restrict:"A",require:"^quickGrid",link:function(n,a,t,i){var r=t.quickSort,s=angular.element("<span ng-if=\"grid.searchModel.paging.sortBy.toLowerCase().indexOf('"+r.toLowerCase()+'\') === 0"><i class="glyphicon glyphicon-triangle-bottom" ng-if="grid.searchModel.paging.sortBy.toLowerCase().indexOf(\'desc\') > -1"></i><i class="glyphicon glyphicon-triangle-top" ng-if="grid.searchModel.paging.sortBy.toLowerCase().indexOf(\'desc\') === -1"></i></span>');a.append(e(s)(n)),a.on("click",function(){n.$apply(function(){i.searchModel.paging.sort(r)})})}}}Object.defineProperty(n,"__esModule",{value:!0}),a.$inject=["$compile"],n["default"]=a},function(e,n){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,a,t){return a&&e(n.prototype,a),t&&e(n,t),n}}(),i=function(){function e(n,t){a(this,e),this.value=n,this.operator=t}return t(e,[{key:"setNot",value:function(e){this.not=e}},{key:"toggleNot",value:function(){this.not=!this.not}},{key:"toJSON",value:function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return this.operator+e}}}]),e}(),r={"%":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return"%"+e+"%"}}},"%~":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return"%"+e}}},"~%":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=this.value;return e+"%"}}},"()":function(e){this.value=e,this.toJSON=function(){if(null!==this.value&&void 0!==this.value&&""!==this.value){var e=[];return this.value.forEach(function(n){e.push(n)}),"("+e.join(",")+")"}}}};Object.keys(r).forEach(function(e){r[e].prototype=i});var s=function(){function e(n){a(this,e),this.sort(n)}return t(e,[{key:"sort",value:function(e){null===e||void 0===e?delete this.sortBy:e===this.sortBy?this.sortBy=e+" desc":this.sortBy=e}},{key:"toPage",value:function(e){this.pageIndex=e}}]),e}(),g=function(){function e(n,t,i){a(this,e),this.model=i||{},this.paging=new s(t),this.pageCount=[],this.filters={},this.callback=n}return t(e,[{key:"watch",value:function(e){return this.scope=e,this.attachOtherWatchers(),this.attachPagingWatch(),this}},{key:"addFilter",value:function(e,n,a){var t=r[n]||i;return this.filters[e]=new t(a,n),this}},{key:"apply",value:function(e){var n=this;this.pagingWatchHandle&&this.pagingWatchHandle(),e&&(this.paging.filterHash=null),this.callback(this).then(function(a){return e&&(n.paging.pageIndex=0),a}).then(this.updatePaging.bind(this)).then(this.attachPagingWatch.bind(this))}},{key:"toQueryString",value:function(){var e=this,n=[],a=0;return Object.keys(this.filters).forEach(function(t){var i=e.filters[t].toJSON();if(void 0!==i){var r=e.filters[t].not?"!":"",s="filters["+a++ +"]";n.push(s+".key="+escape(t)),n.push(s+".value="+escape(r+i))}}),this.model&&Object.keys(this.model).forEach(function(a){var t=e.model[a];void 0!==t&&null!==t&&(t.toJSON&&(t=t.toJSON()),n.push(escape(a)+"="+escape(t)))}),n.push("paging.pageIndex="+(this.paging.pageIndex||0)),n.push("paging.sortBy="+escape(this.paging.sortBy||"")),n.push("paging.filterHash="+escape(this.paging.filterHash||"")),n.join("&")}},{key:"toJSON",value:function(){var e=this,n={paging:this.paging,filters:this.filters};return Object.keys(this.model).forEach(function(a){n[a]=e.model[a]}),n}},{key:"attachOtherWatchers",value:function(){var e=this;this.modelWatchHandle=this.scope.$watch(function(){return e.model},this.onChange.bind(this),!0),this.filterWatchHandle=this.scope.$watch(function(){return e.filters},this.onChange.bind(this),!0)}},{key:"attachPagingWatch",value:function(){var e=this;this.scope&&(this.pagingWatchHandle=this.scope.$watch(function(){return e.paging},function(n,a){n.sortBy===a.sortBy&&n.pageIndex===a.pageIndex||e.apply(!1)},!0))}},{key:"updatePaging",value:function(e){null!==e.pageCount&&(this.pageCount=Array(e.pageCount)),this.paging.filterHash=e.filterHash}},{key:"onChange",value:function(e,n){e!==n&&this.apply(!0)}}]),e}();n["default"]=function(){return g}}]);
//# sourceMappingURL=ng-quick-grid.min.js.map